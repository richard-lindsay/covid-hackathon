{"version":3,"sources":["Header/headerimg.png","Game/canvas.jpeg","Canvas/face.png","Canvas/ghost.png","Canvas/daycanvas.jpg","redux/reducers.js","redux/store.js","Header/styles.js","Login/styles.js","Login/Login.js","Header/Header.js","Canvas/styles.js","Canvas/Canvas.js","SideBar/styles.js","SideBar/template.js","SideBar/SideBar.js","GameOver/styles.js","GameOver/GameOver.js","Game/styles.js","Game/Game.js","Modal/styles.js","Modal/Modal.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","users","currentUser","username","position","gameState","store","createStore","state","arguments","length","undefined","action","type","Object","objectSpread","payload","HeaderContainer","styled","div","_templateObject","Image","img","_templateObject2","NightButton","button","_templateObject3","LoginBox","styles_templateObject","Login","styles_templateObject2","AccountPage","styles_templateObject3","LoginImage","_templateObject4","Sub","_templateObject5","Heading","_templateObject6","Rules","_templateObject7","_ref","logInUser","_useState","useState","_useState2","slicedToArray","setUserName","react_default","a","createElement","styles_Login","className","src","logo","size","name","onChange","e","target","value","onClick","connect","_ref$currentUser","triggerNightTime","role","concat","status","Canvas_styles_templateObject","Canvas","canvas","Canvas_styles_templateObject2","props","night","CanvasContainer","Canvas_styles_templateObject3","ctx","image","ghost","client","myxPosition","setxPosition","_useState3","_useState4","myyPosition","setyPosition","canvasRef","useRef","imageRef","ghostImageRef","useEffect","current","getContext","window","addEventListener","moveMyself","removeEventListener","width","forEach","user","fillStyle","color","fillRect","drawImage","userId","closestUser","beginPath","strokeStyle","rect","lineWidth","closePath","stroke","newx","newy","keyCode","preventDefault","send","JSON","stringify","styles_Canvas","ref","includes","style","display","ghostImg","SideBar","SideBar_styles_templateObject","UserList","ul","SideBar_styles_templateObject2","UserItem","li","SideBar_styles_templateObject3","alive","css","styles_templateObject4","isMe","styles_templateObject5","closest","styles_templateObject6","StartButton","styles_templateObject7","Circle","_templateObject8","backgroundColor","template","mafia","start","mid","doctor","detective","lynch","_ref$handleStartGame","handleStartGame","me","handleKill","toLowerCase","toKill","toCheck","toSave","substring","setTimeout","styles_SideBar","Fragment","toLynch","map","isAlive","key","Page","GameOver_styles_templateObject","Banner","GameOver_styles_templateObject2","Summary","GameOver_styles_templateObject3","Column","GameOver_styles_templateObject4","ResetButton","GameOver_styles_templateObject5","isMafia","mafiaWon","filter","transform","id","location","reload","Wrapper","Game_styles_templateObject","NightContainer","Game_styles_templateObject2","Night","Game_styles_templateObject3","shouldBeVisible","src_GameOver_GameOver","src_Canvas_Canvas","src_SideBar_SideBar","console","log","ModalWrapper","Modal_styles_templateObject","show","ModalContent","Modal_styles_templateObject2","Modal","message","W3CWebSocket","App","_this","classCallCheck","this","_super","call","setState","trim","data","onEditorStateChange","text","content","triggerShowDetectiveModal","result","showModal","showMurderModal","victim","bind","assertThisInitialized","_this2","onopen","onmessage","dataFromServer","parse","stateToChange","handleUserJoined","editorContent","_this$props","src_Header_Header","src_Game_Game","src_Login_Login","Modal_Modal","Component","dispatch","handleUsersChanged","RenderApp","es","src_App_0","ReactDOM","render","src_RenderApp","document","getElementById"],"mappings":"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","file":"static/js/main.c8a9b742.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/headerimg.16d5a4f4.png\";","module.exports = __webpack_public_path__ + \"static/media/canvas.21421f34.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/face.4809883a.png\";","module.exports = __webpack_public_path__ + \"static/media/ghost.2568a3f5.png\";","module.exports = __webpack_public_path__ + \"static/media/daycanvas.1ec1becf.jpg\";","const initialState = {\r\n\tusers: [],\r\n\tcurrentUser: {\r\n\t\tusername: '',\r\n\t\tposition: [0,0]\r\n\t},\r\n\tgameState: 'G_S_PREGAME'\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"JOINED\": \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload.users,\r\n\t\t\t\tcurrentUser: action.payload.currentUser,\r\n\t\t\t\tgameState: action.payload.gameState\r\n\t\t\t}\r\n\t\tcase \"USERS_CHANGED\": \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload.users,\r\n\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t}\r\n\t\t\t\r\n\t}\r\n}\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducers'\r\n\r\nexport const store = createStore(reducer);\r\n","import styled from 'styled-components'\r\n\r\nexport const headerHeight = '90px'\r\nexport const HeaderContainer = styled.div `\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: ${headerHeight};\r\n\tpadding: 20px;\r\n\tfont-family: monospace;\r\n\tfont-size: 20px;\r\n\tbackground-color: #2ed1f7;\r\n\tjustify-content: space-between;\r\n\tcolor: white;\r\n\r\n`\r\nexport const Image = styled.img ` \r\n\talign-self: center;\r\n\theight: ${headerHeight};\r\n\r\n`\r\n\r\nexport const NightButton = styled.button `\r\n`","import styled from \"styled-components\";\r\n\r\nimport {headerHeight} from '../Header/styles.js'\r\n\r\nexport const LoginBox = styled.div `\r\n\tbackground-color: #fff;\r\n\tmargin: 30px auto auto auto;\r\n\tpadding: 50px 60px;\r\n\twidth: 500px;\r\n`\r\nexport const Login = styled.div `\r\n\twidth: 100%;\r\n`\r\nexport const AccountPage = styled.div `\r\n\theight: calc(100vh - ${headerHeight});\r\n\twidth: 100%;\r\n\toverflow-y: auto;\r\n\tbackground: #eee;\r\n\tmargin: auto;\r\n\tpadding: 10px;\r\n\tfont-family: monospace;\r\n\tfont-sixe:\r\n`\r\n\r\nexport const LoginImage = styled.img `\r\n\theight: 150px;\r\n\twidth: 150px;\r\n\tborder-radius: 50%;\r\n\toverflow: hidden;\r\n`\r\n\r\nexport const Sub = styled.p `\r\n\tfont-size: 16px;\r\n\tline-height: 15px;\r\n\tmargin: 5px 0 5px 0px;\r\n`\r\n\r\nexport const Heading = styled(Sub)`\r\nfont-size: 20px\r\ntext-transform: uppercase;\r\nfont-weight: 700;\r\n`\r\n\r\nexport const Rules = styled.div `\r\n`","import React, {useState} from 'react'\r\nimport logo from '../Header/headerimg.png'\r\nimport * as Styled from './styles.js'\r\nimport styled from 'styled-components'\r\n\r\nconst Login = ({logInUser}) => {\r\n\tconst [username, setUserName] = useState('')\r\n\treturn ( \r\n\t\t<Styled.AccountPage>\r\n\t\t\t<Styled.Login>\r\n\t\t\t\t<Styled.LoginBox >\r\n\t\t\t\t\t<div className=\"account__profile\">\r\n\t\t\t\t\t\t<Styled.LoginImage src={logo} size={64} />\r\n\t\t\t\t\t\t<Styled.Heading >Hello, villager!</Styled.Heading>\r\n\t\t\t\t\t\t<Styled.Sub>Welcome to St George's Village, please input your name to enter.</Styled.Sub>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input name=\"username\" onChange={(e) => setUserName(e.target.value)} value={username} className=\"form-control\"/>\r\n\t\t\t\t\t<button type=\"button\" onClick={() => logInUser(username)} className=\"btn btn-primary account__btn\">Join</button>\r\n\t\t\t\t</Styled.LoginBox>\r\n\t\t\t</Styled.Login>\r\n\t\t\t\t<Styled.Rules>\r\n\t\t\t\t\t<h3>The Roles: </h3>\r\n\t\t\t\t\t<p><strong>Mafia: </strong>Will kill other players and try to convince other players who the mafia is without revealing themselves</p>\r\n\t\t\t\t\t<p><strong>Doctor: </strong>Can save themself and others</p>\r\n\t\t\t\t\t<p><strong>Detective: </strong>Chooses any other player and will be told if the player is a member of the mafia or not; uses their power to sway public opinion</p>\r\n\t\t\t\t\t<p><strong>Villager: </strong>The most basic role, who votes and tries to figure out the mafias and vote them off</p>\r\n\r\nObviously you don't want to reveal your roles of you have an important one but rather convince others you are a villager.\r\n<br/>\r\n<h3>Rules and gameplay:</h3>\r\nOnce all players are in, select start game then trigger night. Throughout the night, the mafia will choose to kill a player,\r\nthe doctor will try to save a player and the detetive will try to discover who the mafia is. \r\nYou must move your player to select the closest player to perform an action on (mafia: kill; doctor: save; detective: check; all: lynch)\r\n<br/>\r\nOnce all night time events have taken place, it will become day time again and you will discover who, if anyone, has died.\r\nDuring day time you need to decide who the collective village belives is the Mafia and one person must choose to lynch one player.\r\n<br/>\r\nThe aim of the game is for your 'team' to win: if you are mafia you want a village left with more mafia than villagers.\r\nIf you are a villager you want to kill all the mafia.\r\n<br/>\r\n<br/>\r\n\r\nMafia can only choose one target per round (all mafia vote on 1 target, one mafia member selects kill)\r\nShowing your screen to other players is cheating.\r\n<br/>\r\n<strong>IMPORTANT:</strong> In real life, the dead can not speak. Common saying of course. So in the game, the dead are not allowed to influence the town through speech or physical gestures. It is cheating.\r\n\t\t\t\t</Styled.Rules>\r\n\t\t</Styled.AccountPage>\t)\r\n\t\t\r\n}\r\n\r\n\r\nexport default Login","import React from 'react'\r\nimport * as Styled from './styles.js'\r\nimport logo from './headerimg.png'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Header = ({currentUser = {}, gameState, triggerNightTime}) => {\r\n\t\r\n\treturn (\r\n\t\t<Styled.HeaderContainer>\r\n\t\t\t<div>\r\n\t\t\t\t<Styled.Image src={logo} />\r\n\r\n\t\t\t\t{currentUser.username \r\n\t\t\t\t\t? <span> Hello, {currentUser.username}</span>\r\n\t\t\t\t\t: <span> Hello! Welcome to St George's Village.</span>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t{ gameState === 'G_S_START' && currentUser.role && currentUser.role !== 'unassigned' &&\r\n\t\t\t\t<Styled.NightButton onClick={triggerNightTime}>Trigger Night Time</Styled.NightButton>\r\n\t\t\t}\r\n\t\t\t{currentUser.username && \r\n\t\t\t\t<span> \r\n\t\t\t\t\t{currentUser.role && currentUser.role !== 'unassigned' \r\n\t\t\t\t\t\t? `You ${currentUser.status === 'alive' ? 'are' : 'were'} a ${currentUser.role}. ${currentUser.status !== 'alive' ? 'You are now dead' : ''}` \r\n\t\t\t\t\t\t: `Wait for your role to be dealt!`}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t</Styled.HeaderContainer>\r\n\t)\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Header)\r\n","import styled from \"styled-components\";\r\nimport img from './daycanvas.jpg';\r\nimport night from '../Game/canvas.jpeg';\r\n\r\nexport const Image  = styled.img`\r\n\tdisplay: none;\r\n`\r\n\r\nexport const Canvas = styled.canvas `\r\n\theight: 110%;\r\n\twidth: 100%;\r\n\tbackground: url(${props => props.night ? night :img}) repeat 0 0;\r\n\tbackground-size: cover;\r\n`\r\n\r\nexport const CanvasContainer = styled.div ` \r\n\twidth: 75%;\r\n`","import React, { useEffect, useRef, useState } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport img from './face.png'\r\nimport ghostImg from './ghost.png'\r\nimport * as Styled from './styles.js'\r\n\r\nconst Canvas = ({users, currentUser, client, gameState}) => {\r\n\tconst [myxPosition, setxPosition] = useState(currentUser.position[0])\r\n\tconst [myyPosition, setyPosition] = useState(currentUser.position[1])\r\n\r\n\tconst canvasRef = useRef(null)\r\n\tconst imageRef = useRef(null)\r\n\tconst ghostImageRef = useRef(null)\r\n\tlet ctx\r\n\tlet canvas\r\n\tlet image\r\n\tlet ghost\r\n\r\n\tuseEffect(() => {\r\n\t\tcanvas = canvasRef.current\r\n\t\tctx = canvas.getContext(\"2d\")\r\n\t\twindow && window.addEventListener(\"keydown\", moveMyself, false);\r\n\t\t\r\n\t\treturn () => window.removeEventListener(\"keydown\", moveMyself);\r\n\r\n\t\t})\r\n\tuseEffect(() => {\r\n\t\tcanvas.width = canvas.width;\r\n\t\timage = imageRef.current\r\n\t\tghost = ghostImageRef.current\r\n\t\tusers.forEach(user => {\r\n\t\t\t\r\n\t\t\tif (user.status === 'dead') {\r\n\t\t\t\tctx.drawImage(ghost, user.position[0], user.position[1], 10, 10);\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tctx.fillStyle = user.color;\r\n\t\t\tctx.fillRect(user.position[0], user.position[1], 10, 10)\r\n\t\t\tctx.drawImage(image, user.position[0], user.position[1], 10, 10);\r\n\r\n\t\t\tif (user.userId === currentUser.closestUser) {\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.strokeStyle = \"green\";\r\n\t\t\t\tctx.rect(user.position[0], user.position[1], 10, 10)\r\n\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\tctx.closePath();\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.strokeStyle = \"black\";\r\n\t\t\t\tctx.rect(user.position[0], user.position[1], 10, 10)\r\n\t\t\t\tctx.lineWidth = 0.2;\r\n\t\t\t\tctx.closePath();\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t\t}\r\n\t\t})\r\n\t}, [users, currentUser])\r\n\r\n const moveMyself = (e) => {\r\n\tlet newx\r\n\tlet newy\r\n\tswitch(e.keyCode) {\r\n\t\tcase 37:\r\n\t\t\te.preventDefault()\r\n\r\n\t\t\tcanvas.width = canvas.width;\r\n\t\t\t// left key pressed\r\n\t\t\tnewx = myxPosition - 5 > 0 ? myxPosition - 5 : myxPosition\r\n\t\t\tsetxPosition(newx)\r\n\t\t\tsetyPosition(myyPosition)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition-5, myyPosition]}))\r\n\t\t\tbreak;\r\n\t\tcase 38:\r\n\t\t\te.preventDefault()\r\n\r\n\t\t\tcanvas.width = canvas.width;\r\n\t\t\t// up key pressed\r\n\t\t\tnewy = myyPosition - 5 > 0 ? myyPosition - 5 : myyPosition\r\n\r\n\t\t\tsetxPosition(myxPosition)\r\n\t\t\tsetyPosition(newy)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition, myyPosition - 5]}))\r\n\t\t\tbreak;\r\n\t\tcase 39:\r\n\t\t\te.preventDefault()\r\n\r\n\t\t\tcanvas.width = canvas.width;\r\n\t\t\t// right key pressed\r\n\t\t\tnewx = myxPosition + 5 < canvas.width ? myxPosition + 5 : myxPosition\r\n\r\n\t\t\tsetxPosition(newx)\r\n\t\t\tsetyPosition(myyPosition)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition + 5, myyPosition]}))\r\n\t\t\tbreak;\r\n\t\tcase 40:\r\n\t\t\te.preventDefault()\r\n\r\n\t\t\tcanvas.width = canvas.width;\r\n\r\n\t\t\t// down key pressed\r\n\t\t\tnewy = myyPosition + 5 < canvas.width ? myyPosition + 5 : myyPosition\r\n\r\n\t\t\tsetxPosition(myxPosition)\r\n\t\t\tsetyPosition(newy)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition, myyPosition + 5]}))\r\n\t\t\tbreak;  \r\n\t}   \r\n}  \r\n\r\n\r\n\treturn (\r\n\t\t<Styled.CanvasContainer>\r\n\t\t\t<Styled.Canvas ref={canvasRef} night={gameState.includes('G_S_N')} />\r\n\t\t\t<img src={img} ref={imageRef}  style={{display: 'none'}}/>\r\n\t\t\t<img src={ghostImg} ref={ghostImageRef}  style={{display: 'none'}}/>\r\n\t\t</Styled.CanvasContainer>\r\n\t)\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\r\n  return {\r\n\t\tusers: state.users,\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Canvas)","import styled, {css} from \"styled-components\";\r\nexport const SideBar = styled.div `\r\n\twidth: 25%;\r\n\tpadding: 20px;\r\n\tfont-family: monospace;\r\n`\r\n\r\nexport const UserList = styled.ul`\r\n\r\n`\r\n\r\nexport const UserItem = styled.li `\r\n\tlist-style-type: none;\r\n\tpadding: 5px 10px;\r\n\tborder: 3px solid green;\r\n\tborder-radius: 3px;\r\n\tmargin: 5px;\r\n\twidth: fit-content;\r\n\tdisplay:flex;\r\n\tfont-size: 20px;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\t${props => \r\n\t\t!props.alive && css`\r\n\t\t\tborder: 3px solid red;\r\n\t\t\topacity: 0.5;\r\n \t\t`\r\n\t}\r\n\t${props => \r\n\t\tprops.isMe && css`\r\n\t\t\tborder: 3px solid #022a92;\r\n \t\t`\r\n\t}\r\n\t${props => \r\n\t\tprops.closest && css`\r\n\t\t\tbox-shadow: 0px 0px 5px 3px green;\r\n\t\t`\r\n\t}\r\n`\r\n\r\nexport const StartButton = styled.button `\r\n\t\r\n`\r\n\r\nexport const Circle = styled.div `\r\n\tbackground: ${props => props.backgroundColor};\r\n\tborder-radius: 50%;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tmargin-left: 3px;\r\n`","export default {\r\n\t'mafia': {\r\n\t\tstart: \"⚔️ It's time to kill someone!\",\r\n\t\tmid: \"Move to who you want to kill \",\r\n\t\tbutton: \"click here ⚔️ \"\r\n\t},\r\n\t'doctor': {\r\n\t\tstart: \"🚑 It's time to save someone! \",\r\n\t\tmid: \"Move to who you want to save\",\r\n\t\tbutton: \"click here 🚑\"\r\n\t},\r\n\t'detective': {\r\n\t\tstart: \"🔍 It's time to (hopefully) catch a killer\",\r\n\t\tmid: \"Move to who you want to find out\",\r\n\t\tbutton: \"click here 🔍 \"\r\n\t},\r\n\t'lynch': {\r\n\t\tstart: \"🗡️ It's time to (hopefully) lynch a killer\",\r\n\t\tmid: \"Move to who you want to lynch\",\r\n\t\tbutton: \"click here 🗡️ \"\r\n\t},\r\n\r\n\r\n\r\n}","import React from 'react'\r\nimport * as Styled from './styles.js'\r\nimport { connect } from 'react-redux'\r\nimport template from './template'\r\nconst SideBar = ({users, currentUser, handleStartGame= () => {}, gameState, client}) => {\r\n\tconst me = currentUser.username\r\n\tconst handleKill = () => {\r\n\t\tswitch (currentUser.role.toLowerCase()) {\r\n\t\t\tcase 'mafia':\r\n\t\t\t\tclient.send(JSON.stringify({type: 'mafiaKill', toKill: currentUser.closestUser}))\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'detective':\r\n\t\t\t\tclient.send(JSON.stringify({type: 'detectiveCheck', toCheck: currentUser.closestUser }))\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'doctor':\r\n\t\t\t\tclient.send(JSON.stringify({type: 'doctorSave', toSave: currentUser.closestUser}))\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t}\r\n\t}\r\n\r\n\tconst handleLynch = () => {\r\n\t\tclient.send(JSON.stringify({type: 'villagerLynch', toLynch: currentUser.closestUser}))\r\n\r\n\t}\r\n\tif (gameState.toLowerCase().includes(currentUser.role.substring(0,3))  && \r\n\t\tgameState.includes('CHOOSE') && currentUser.status !== 'alive') {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\thandleKill()\r\n\t\t}, 3000);\r\n\t}\r\n\r\n\treturn ( \r\n\r\n\t\t<Styled.SideBar>\r\n\r\n\t\t\t{gameState.toLowerCase().includes(currentUser.role.substring(0,3))  && \r\n\t\t\tgameState.includes('CHOOSE') && currentUser.status === 'alive' &&\r\n\t\t\t\t <>\r\n\t\t\t\t\t<h5> {template[currentUser.role].start}\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t{template[currentUser.role].mid}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<p>When you're ready: <button onClick={handleKill}>{template[currentUser.role].button}</button></p>\r\n\t\t\t\t</> \r\n\t\t\t\t }\r\n\t\t\t\t {gameState.toLowerCase().includes(currentUser.role.substring(0,3))  && \r\n\t\t\t\t\tgameState.includes('RETURN') && currentUser.status === 'alive' &&\r\n\t\t\t\t\t\t<h5> Hurry back to where you started so they don't notice you moved!</h5>\r\n\t\t\t\t }\r\n\t\t\t{currentUser.status !== 'alive' &&\r\n\t\t\t<h5> You are dead. </h5>\r\n\t\t\t}\r\n\t\t\t{gameState === 'G_S_DAY' && currentUser.status === 'alive' &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h5> {template['lynch'].start}\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t{template['lynch'].mid}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<p>When you're ready: <button onClick={handleLynch}>{template['lynch'].button}</button></p>\r\n\t\t\t\t</> \r\n\t\t\t\t }\r\n\t\t\t<h5>These are the people currently in your village: </h5>\r\n\t\t\t<Styled.UserList>\r\n\t\t\t\t{users.map((user) => {\r\n\t\t\t\t\tconst isMe = me && user.username === me\r\n\t\t\t\t\tconst isAlive = user.status === 'alive'\r\n\t\t\t\t\tconst closest = user.userId === currentUser.closestUser\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<Styled.UserItem key={user.userId} alive={isAlive} isMe={isMe} closest={closest}>\r\n\t\t\t\t\t\t {!isAlive && `💀`}{user.username}{!isAlive && `💀`}<Styled.Circle backgroundColor={user.color}/> </Styled.UserItem>\r\n\t\t\t\t\t\t )\r\n\t\t\t\t})}\r\n\r\n\r\n\t\t\t\t{gameState === 'G_S_PREGAME' \r\n\t\t\t\t&& users.length > 3 &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\tEveryone here? \r\n\t\t\t\t\t<Styled.StartButton onClick={handleStartGame}>\r\n\t\t\t\t\t\tStart Game\r\n\t\t\t\t\t</Styled.StartButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</Styled.UserList>\r\n\t\t</Styled.SideBar>\r\n\t)\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n\t\tusers: state.users,\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n\t};\r\n};\r\nexport default connect(mapStateToProps)(SideBar)\r\n","import styled from \"styled-components\";\r\n\r\nexport const Page = styled.div `\r\n\twidth: 100%;\r\n\tfont-family: monospace;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`\r\n\r\nexport const Banner = styled.div `\r\n\tborder: 5px dashed gold;\r\n\tborder-radius: 3px;\r\n\tpadding: 20px;\r\n\tmargin: 100px auto 0;\r\n\tmin-width: 500px;\r\n\twidth: fit-content;\r\n\ttext-align: center;\r\n\tfont-size: 30px;\r\n`\r\n\r\nexport const Summary = styled.div `\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tmargin: 0 50px;\r\n`\r\n\r\nexport const Column = styled.div `\r\n\tpadding: 12px 20px;\r\n\tborder: 5px solid black;\r\n\tmin-width: 25%;\r\n\tmargin: 40px;\r\n\tfont-size: 21px;\r\n\tline-height: 40px;\r\n}\r\n`\r\n\r\nexport const ResetButton = styled.button `\r\n\talign-self: center;\r\n\tpadding: 5px;\r\n\tappearance: none;\r\n\tborder-radius: 3px;\r\n\tpadding: 15px;\r\n\tfont-size: 20px;\r\n\tbackground-color: #2ed1f7;\r\n\tcolor: white;\r\n\r\n`","import React from 'react'\r\nimport * as Styled from './styles.js'\r\nimport { connect } from 'react-redux'\r\n\r\nconst GameOver = ({users, currentUser, gameState, client}) => {\r\n\tconst isMafia = currentUser.role === 'mafia'\r\n\tconst mafiaWon = gameState === 'G_S_MAFIA_WIN'\r\n\tconst handleReset = () => {\r\n\t\tclient.send(JSON.stringify({\"type\": \"restartGame\"}))\r\n\t\tsetTimeout(() => \r\n\t\t\twindow.location.reload(false),\r\n\t\t\t500)\r\n\t\t}\r\n\treturn (\r\n\t\t<Styled.Page>\r\n\t\t\t{((isMafia && mafiaWon) || (!isMafia && !mafiaWon)) && \r\n\t\t\t<>\r\n\t\t\t<Styled.Banner>\r\n\t\t\t🎊 You have successfully defeated the {mafiaWon ? 'village' : 'Mafia'}! 🎊\r\n\t\t\t</Styled.Banner>\r\n\t\t\t</>\r\n\t\t\t}\r\n\t\t\t{((isMafia && !mafiaWon) || (!isMafia && mafiaWon)) && \r\n\t\t\t<>\r\n\t\t\t<Styled.Banner>\r\n\t\t\t\tYou were defeated by the {!mafiaWon ? 'village' : 'Mafia'}! \r\n\t\t\t</Styled.Banner>\r\n\t\t\t</>\r\n\t\t\t}\r\n\t\t\t<Styled.Summary>\r\n\t\t\t\t<Styled.Column>\r\n\t\t\tVillagers: \r\n\t\t\t{\r\n\t\t\t\tusers.filter(user => user.role !== 'mafia').map(user => {\r\n\t\t\t\t\treturn (<div key={user.userId}>\r\n\t\t\t\t\t\t{user.status !== 'alive' ? '⚰️' : ''}\r\n\t\t\t\t\t\t{user.username} \r\n\t\t\t\t\t\t<div style={{transform: 'scaleX(-1)', display: 'inline-block'}}>\r\n\t\t\t\t\t\t{user.status !== 'alive' ? '⚰️' : ''}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t</Styled.Column>\r\n\t\t\t<Styled.Column>\r\n\t\t\tMafia: \r\n\t\t\t{\r\n\t\t\t\tusers.filter(user => user.role === 'mafia').map(user => {\r\n\t\t\t\t\treturn (<div key={user.id}>\r\n\t\t\t\t\t\t{user.status !== 'alive' ? '⚰️' : ''}\r\n\t\t\t\t\t\t{user.username}\r\n\t\t\t\t\t\t<div style={{transform: 'scaleX(-1)', display: 'inline-block'}}>\r\n\t\t\t\t\t\t{user.status !== 'alive' ? '⚰️' : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t</Styled.Column>\r\n\t\t\t</Styled.Summary>\r\n\t\t\t<Styled.ResetButton onClick={handleReset}>\r\n\t\t\t\tStart New Game\r\n\t\t\t</Styled.ResetButton>\r\n\t\t</Styled.Page>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tusers: state.users,\r\n\t\tgameState: state.gameState,\r\n\t\tcurrentUser: state.currentUser\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(GameOver)","import styled from \"styled-components\";\r\nimport img from './canvas.jpeg';\r\n\r\nexport const Wrapper = styled.div`\r\n\tdisplay: flex;\r\n`\r\nexport const NightContainer = styled.div ` \r\n\twidth: 75%;\r\n`\r\nexport const Night = styled.div `\r\n\twidth: 100%;\r\n\theight: 110vh;\r\n\tbackground: no-repeat url(${img}) 0 0;\r\n\tbackground-size: contain;\r\n`\r\n\r\n","import React from 'react'\r\nimport Canvas from '../Canvas/Canvas'\r\nimport SideBar from '../SideBar/SideBar'\r\nimport GameOver from '../GameOver/GameOver'\r\n\r\nimport * as Styled from './styles.js'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Game = ({ client, shouldBeVisible, gameState}) => {\t\r\n\tconst handleStartGame = () => {\r\n\t\tconsole.log('Starting Game');\r\n\t\tclient.send(JSON.stringify({\"type\": \"gameStart\"}))\r\n\t}\r\n\treturn ( \r\n\t\t<Styled.Wrapper>\r\n\t\t\t{gameState.includes('WIN') \r\n\t\t\t? <GameOver client={client} />\r\n\t\t\t: <> {shouldBeVisible\r\n\t\t\t\t? <Canvas client={client} />\r\n\t\t\t\t: <Styled.NightContainer>\r\n\t\t\t\t\t\t<Styled.Night />\r\n\t\t\t\t\t</Styled.NightContainer>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t<SideBar client={client} handleStartGame={handleStartGame} /></> \r\n\t\t\t}\r\n\t\t</Styled.Wrapper>\r\n\t)\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn { \r\n\t\tgameState: state.gameState\r\n\t}\r\n}\r\nexport default connect(mapStateToProps)(Game)","import styled from \"styled-components\";\r\n\r\nexport const ModalWrapper = styled.div`\r\n\tdisplay: ${props => props.show ? 'block' : 'none'}; /* Hidden by default */\r\n\tposition: fixed; /* Stay in place */\r\n\tz-index: 1; /* Sit on top */\r\n\tpadding-top: 100px; /* Location of the box */\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100%; \r\n\theight: 100%; \r\n\tbackground-color: rgb(0,0,0); \r\n\tbackground-color: rgba(0,0,0,0.4); \r\n`\r\n\r\nexport const ModalContent = styled.div`\r\n\tbackground-color: white;\r\n\tmargin: auto;\r\n\tpadding: 20px;\r\n\tborder: 1px solid #888;\r\n\twidth: 80%;\r\n\ttext-align: center;\r\n`","import React from 'react'\r\nimport * as Styled from './styles.js'\r\n\r\nexport const Modal = ({show, message}) => {\r\n\treturn (\r\n\t\t<Styled.ModalWrapper show={show} >\r\n\t\t\t<Styled.ModalContent>\r\n\t\t\t\t{message}\r\n\t\t\t</Styled.ModalContent>\r\n\t\t</Styled.ModalWrapper>\r\n\t)\r\n}","import React, { Component } from 'react'\r\nimport { w3cwebsocket as W3CWebSocket} from 'websocket'\r\nimport { connect } from 'react-redux';\r\nimport Login from './Login/Login'\r\nimport Header from './Header/Header'\r\nimport Game from './Game/Game'\r\n\r\nimport 'medium-editor/dist/css/medium-editor.css';\r\nimport 'medium-editor/dist/css/themes/default.css';\r\nimport './App.css';\r\nimport { Modal } from './Modal/Modal';\r\n\r\n// const client  = new W3CWebSocket('ws://127.0.0.1:8080')\r\nconst client  = new W3CWebSocket('ws://gentle-ridge-18754.herokuapp.com/')\r\n\r\nconst contentDefaultMessage = \"Start writing your document here\"\r\n\r\nclass App extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n\t\t\t\t\t\tusername: null,\r\n\t\t\t\t\t\tmessage: '',\r\n\t\t\t\t\t\tshowModal: false\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.logInUser = this.logInUser.bind(this)\r\n\r\n\t\t}\r\n\t\t\r\n    logInUser = (username) => {\r\n\t\t\t\tthis.setState({username: username})\r\n        if (username.trim()) {\r\n          const data = { username }\r\n\t\t\t\t  client.send(JSON.stringify({...data, type: 'userJoined'}))\r\n        }\r\n\t\t}\r\n\t\t\r\n\t\ttriggerNightTime= () => {\r\n\t\t\tclient.send(JSON.stringify({\r\n\t\t\t\ttype: 'nightAll'\r\n\t\t}))\r\n\t\t}\r\n\r\n    onEditorStateChange = (text) => {\r\n        client.send(JSON.stringify({\r\n            type: 'contentchange',\r\n            username: this.state.username,\r\n            content: text\r\n        }))\r\n\t\t}\r\n\r\n\t\ttriggerShowDetectiveModal= (result) => {\r\n\t\t\tif (this.props.currentUser.role !== 'detective') return\r\n\t\t\tconst message = `They are ${!result ? 'not ' : ''}a member of the Mafia.`\r\n\t\t\tthis.setState({message: message, showModal: true})\r\n\t\t}\r\n\r\n\t\tshowMurderModal = (type, victim = '') => {\r\n\t\t\tlet message\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'villagerKilled' :\r\n\t\t\t\t\tmessage = `😱 A villager just died! They went by the name of ${victim.username}, may they Rest in Peace.`\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'mafiaKilled':\r\n\t\t\t\t\tmessage = `You chose to kill ${victim.username}. Well done, they were a member of the Mafia! ⚔️ `\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'noneKilled':\r\n\t\t\t\t\tmessage = 'Amen! No one died last night.'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmessage = 'Not really sure what happened here... '\r\n\t\t\t}\r\n\t\t\tthis.setState({message: message, showModal: true})\r\n\t\t\t\r\n\t\t\tsetTimeout(()=> this.setState({message: null, showModal: false}), 4000)\r\n\r\n\t\t}\r\n\r\n    componentWillMount() {\r\n        client.onopen = () => {\r\n            console.log(\"WebSocket Client Connected\")\r\n        }\r\n\r\n        client.onmessage = (message) => {\r\n\t\t\t\t\t\r\n            const dataFromServer = JSON.parse(message.data)\r\n\t\t\t\t\t\tconst stateToChange = {}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (dataFromServer.type && dataFromServer.users && dataFromServer.type !== 'noneKilled'){\r\n\t\t\t\t\t\t\tstateToChange.users = dataFromServer.users\r\n\t\t\t\t\t\t\tstateToChange.currentUser = dataFromServer.currentUser\r\n\t\t\t\t\t\t\tstateToChange.gameState = dataFromServer.gameState\r\n\t\t\t\t\t\t\tthis.props.handleUserJoined(stateToChange)\r\n\t\t\t\t\t\t\tthis.setState({ ...stateToChange })\r\n\t\t\t\t\t\t} else if (dataFromServer.type === 'detectiveCheck') {\r\n\t\t\t\t\t\t\t\tthis.triggerShowDetectiveModal(dataFromServer.result)\r\n\t\t\t\t\t\t} else if (dataFromServer.type.toLowerCase().includes('killed')) {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.showMurderModal(dataFromServer.type, dataFromServer.victim || '')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(message.type === \"contentchange\") {\r\n\t\t\t\t\t\t\tstateToChange.text = dataFromServer.data.editorContent || contentDefaultMessage\r\n\t\t\t\t\t\t} \r\n         }\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {currentUser, gameState} = this.props\r\n\t\t\tconst shouldBeVisible = currentUser && currentUser.username && (!gameState.includes('G_S_N') ||\r\n\t\t\tgameState.toLowerCase().includes(currentUser.role.substring(0,3)))\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Header triggerNightTime={this.triggerNightTime} />\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t{currentUser && currentUser.username \r\n\t\t\t\t\t\t? <Game shouldBeVisible={shouldBeVisible} client={client} /> \r\n\t\t\t\t\t\t: <Login logInUser={this.logInUser} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Modal show={this.state.showModal} message={this.state.message} />\r\n\t\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\nconst mapDispatchToProps  = dispatch => {\r\n\treturn {\r\n\t\thandleUserJoined: (payload) => dispatch({ type: 'JOINED', payload }),\r\n\t\thandleUsersChanged: (payload) => dispatch({ type: 'USERS_CHANGED', payload })\r\n\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {store} from './redux/store'\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nconst RenderApp = () => (\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n);\r\n\r\n\r\nReactDOM.render(<RenderApp />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();"],"sourceRoot":""}