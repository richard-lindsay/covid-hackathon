{"version":3,"sources":["Game/canvas.jpeg","Header/headerimg.png","Canvas/face.png","Canvas/daycanvas.jpg","redux/reducers.js","redux/store.js","Login/Login.js","Header/styles.js","Header/Header.js","Canvas/styles.js","Canvas/Canvas.js","SideBar/styles.js","SideBar/template.js","SideBar/SideBar.js","Game/styles.js","Game/Game.js","Modal/styles.js","Modal/Modal.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","users","currentUser","username","position","gameState","store","createStore","state","arguments","length","undefined","action","type","Object","objectSpread","payload","Login","_ref","logInUser","_useState","useState","_useState2","slicedToArray","setUserName","react_default","a","createElement","className","build_default","size","string","name","onChange","e","target","value","onClick","HeaderContainer","styled","div","_templateObject","Image","img","_templateObject2","NightButton","button","_templateObject3","connect","triggerNightTime","src","logo","includes","role","concat","styles_templateObject","Canvas","canvas","styles_templateObject2","props","night","CanvasContainer","styles_templateObject3","ctx","image","client","myxPosition","setxPosition","_useState3","_useState4","myyPosition","setyPosition","canvasRef","useRef","imageRef","useEffect","current","getContext","status","window","addEventListener","moveMyself","removeEventListener","width","forEach","user","fillStyle","color","fillRect","drawImage","userId","closestUser","beginPath","strokeStyle","rect","lineWidth","closePath","stroke","newx","newy","preventDefault","keyCode","send","JSON","stringify","styles_Canvas","ref","style","display","SideBar","SideBar_styles_templateObject","UserList","ul","SideBar_styles_templateObject2","UserItem","li","SideBar_styles_templateObject3","alive","css","_templateObject4","isMe","_templateObject5","closest","_templateObject6","StartButton","_templateObject7","Circle","_templateObject8","backgroundColor","template","mafia","start","mid","doctor","detective","lynch","_ref$handleStartGame","handleStartGame","me","styles_SideBar","toLowerCase","substring","Fragment","toKill","toCheck","toSave","toLynch","map","isAlive","key","Wrapper","Game_styles_templateObject","NightContainer","Game_styles_templateObject2","Night","Game_styles_templateObject3","Game","shouldBeVisible","src_Canvas_Canvas","src_SideBar_SideBar","console","log","ModalWrapper","Modal_styles_templateObject","show","ModalContent","Modal_styles_templateObject2","Modal","message","W3CWebSocket","App","_this","classCallCheck","this","_super","call","setState","trim","data","onEditorStateChange","text","content","triggerShowDetectiveModal","result","showModal","setTimeout","showMurderModal","victim","bind","assertThisInitialized","_this2","onopen","onmessage","dataFromServer","parse","stateToChange","handleUserJoined","editorContent","_this$props","src_Header_Header","src_Game_Game","src_Login_Login","Modal_Modal","Component","dispatch","handleUsersChanged","RenderApp","es","src_App_0","ReactDOM","render","src_RenderApp","document","getElementById"],"mappings":"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","file":"static/js/main.6a837585.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/canvas.21421f34.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/headerimg.16d5a4f4.png\";","module.exports = __webpack_public_path__ + \"static/media/face.4809883a.png\";","module.exports = __webpack_public_path__ + \"static/media/daycanvas.1ec1becf.jpg\";","const initialState = {\r\n\tusers: [],\r\n\tcurrentUser: {\r\n\t\tusername: '',\r\n\t\tposition: [0,0]\r\n\t},\r\n\tgameState: 'G_S_PREGAME'\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"JOINED\": \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload.users,\r\n\t\t\t\tcurrentUser: action.payload.currentUser,\r\n\t\t\t\tgameState: action.payload.gameState\r\n\t\t\t}\r\n\t\tcase \"USERS_CHANGED\": \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload.users,\r\n\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t}\r\n\t\t\t\r\n\t}\r\n}\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducers'\r\n\r\nexport const store = createStore(reducer);\r\n","import React, {useState} from 'react'\r\nimport Identicon from 'react-identicons';\r\n\r\n\r\nconst Login = ({logInUser}) => {\r\n\tconst [username, setUserName] = useState('')\r\n\treturn ( \r\n\t\t<div className=\"account\">\r\n\t\t\t<div className=\"account__wrapper\">\r\n\t\t\t\t<div className=\"account__card\">\r\n\t\t\t\t\t<div className=\"account__profile\">\r\n\t\t\t\t\t\t<Identicon className=\"account__avatar\" size={64} string=\"randomness\" />\r\n\t\t\t\t\t\t<p className=\"account__name\">Hello, user!</p>\r\n\t\t\t\t\t\t<p className=\"account__sub\">Join to edit the document</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input name=\"username\" onChange={(e) => setUserName(e.target.value)} value={username} className=\"form-control\"/>\r\n\t\t\t\t\t<button type=\"button\" onClick={() => logInUser(username)} className=\"btn btn-primary account__btn\">Join</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\t\t\r\n}\r\n\r\n\r\nexport default Login","import styled from 'styled-components'\r\n\r\nexport const HeaderContainer = styled.div `\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 90px;\r\n\tpadding: 20px;\r\n\tfont-family: monospace;\r\n\tfont-size: 20px;\r\n\tbackground-color: #2ed1f7;\r\n\tjustify-content: space-between;\r\n\tcolor: white;\r\n\r\n`\r\nexport const Image = styled.img ` \r\n\talign-self: center;\r\n\theight: 90px;\r\n\r\n`\r\n\r\nexport const NightButton = styled.button `\r\n`","import React from 'react'\r\nimport * as Styled from './styles.js'\r\nimport logo from './headerimg.png'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Header = ({currentUser, gameState, triggerNightTime}) => {\r\n\treturn (\r\n\t\t<Styled.HeaderContainer>\r\n\t\t\t<div>\r\n\t\t\t\t<Styled.Image src={logo} />\r\n\r\n\t\t\t\t{currentUser.username \r\n\t\t\t\t\t? <span> Hello, {currentUser.username}</span>\r\n\t\t\t\t\t: <span> Hello! Welcome to St George's Village.</span>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t{ !gameState.includes('G_S_N')  && !gameState.includes('G_S_PREGAME') && \r\n\t\t\t\t<Styled.NightButton onClick={triggerNightTime}>Trigger Night Time</Styled.NightButton>\r\n\t\t\t}\r\n\t\t\t{currentUser.username && \r\n\t\t\t\t<span> \r\n\t\t\t\t\t{currentUser.role && currentUser.role !== 'unassigned' \r\n\t\t\t\t\t\t? `You are a ${currentUser.role}` \r\n\t\t\t\t\t\t: `Wait for your role to be dealt!`}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t</Styled.HeaderContainer>\r\n\t)\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Header)\r\n","import styled from \"styled-components\";\r\nimport img from './daycanvas.jpg';\r\nimport night from '../Game/canvas.jpeg';\r\n\r\nexport const Image  = styled.img`\r\n\tdisplay: none;\r\n`\r\n\r\nexport const Canvas = styled.canvas `\r\n\theight: 110%;\r\n\twidth: 100%;\r\n\tbackground: url(${props => props.night ? night :img}) repeat 0 0;\r\n\tbackground-size: cover;\r\n`\r\n\r\nexport const CanvasContainer = styled.div ` \r\n\twidth: 75%;\r\n`","import React, { useEffect, useRef, useState } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport img from './face.png'\r\nimport * as Styled from './styles.js'\r\n\r\nconst Canvas = ({users, currentUser, client, gameState}) => {\r\n\tconst [myxPosition, setxPosition] = useState(currentUser.position[0])\r\n\tconst [myyPosition, setyPosition] = useState(currentUser.position[1])\r\n\r\n\tconst canvasRef = useRef(null)\r\n\tconst imageRef = useRef(null)\r\n\tlet ctx\r\n\tlet canvas\r\n\tlet image\r\n\r\n\tuseEffect(() => {\r\n\t\tcanvas = canvasRef.current\r\n\t\tctx = canvas.getContext(\"2d\")\r\n\t\tcurrentUser.status === 'alive' && window && window.addEventListener(\"keydown\", moveMyself, false);\r\n\t\t\r\n\t\treturn () => window.removeEventListener(\"keydown\", moveMyself);\r\n\r\n\t\t})\r\n\tuseEffect(() => {\r\n\t\tcanvas.width = canvas.width;\r\n\t\timage = imageRef.current\r\n\t\tusers.forEach(user => {\r\n\t\t\tif (user.status === 'dead') return\r\n\t\t\tctx.fillStyle = user.color;\r\n\t\t\tctx.fillRect(user.position[0], user.position[1], 10, 10)\r\n\t\t\tctx.drawImage(image, user.position[0], user.position[1], 10, 10);\r\n\r\n\t\t\tif (user.userId === currentUser.closestUser) {\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.strokeStyle = \"green\";\r\n\t\t\t\tctx.rect(user.position[0], user.position[1], 10, 10)\r\n\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\tctx.closePath();\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.strokeStyle = \"black\";\r\n\t\t\t\tctx.rect(user.position[0], user.position[1], 10, 10)\r\n\t\t\t\tctx.lineWidth = 0.2;\r\n\t\t\t\tctx.closePath();\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t\t}\r\n\t\t})\r\n\t}, [users, currentUser])\r\n\r\n const moveMyself = (e) => {\r\n\te.preventDefault()\r\n\tlet newx\r\n\tlet newy\r\n\tswitch(e.keyCode) {\r\n\t\tcase 37:\r\n\t\t\tcanvas.width = canvas.width;\r\n\t\t\t// left key pressed\r\n\t\t\tnewx = myxPosition - 5 > 0 ? myxPosition - 5 : myxPosition\r\n\t\t\tsetxPosition(newx)\r\n\t\t\tsetyPosition(myyPosition)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition-5, myyPosition]}))\r\n\t\t\tbreak;\r\n\t\tcase 38:\r\n\t\t\tcanvas.width = canvas.width;\r\n\t\t\t// up key pressed\r\n\t\t\tnewy = myyPosition - 5 > 0 ? myyPosition - 5 : myyPosition\r\n\r\n\t\t\tsetxPosition(myxPosition)\r\n\t\t\tsetyPosition(newy)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition, myyPosition - 5]}))\r\n\t\t\tbreak;\r\n\t\tcase 39:\r\n\t\t\tcanvas.width = canvas.width;\r\n\t\t\t// right key pressed\r\n\t\t\tnewx = myxPosition + 5 < canvas.width ? myxPosition + 5 : myxPosition\r\n\r\n\t\t\tsetxPosition(newx)\r\n\t\t\tsetyPosition(myyPosition)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition + 5, myyPosition]}))\r\n\t\t\tbreak;\r\n\t\tcase 40:\r\n\t\t\tcanvas.width = canvas.width;\r\n\r\n\t\t\t// down key pressed\r\n\t\t\tnewy = myyPosition + 5 < canvas.width ? myyPosition + 5 : myyPosition\r\n\r\n\t\t\tsetxPosition(myxPosition)\r\n\t\t\tsetyPosition(newy)\r\n\t\t\tclient.send(JSON.stringify({type: 'userMoved', position: [myxPosition, myyPosition + 5]}))\r\n\t\t\tbreak;  \r\n\t}   \r\n}  \r\n\r\n\r\n\treturn (\r\n\t\t<Styled.CanvasContainer>\r\n\t\t\t<Styled.Canvas ref={canvasRef} night={gameState.includes('G_S_N')} />\r\n\t\t\t<img src={img} ref={imageRef}  style={{display: 'none'}}/>\r\n\t\t</Styled.CanvasContainer>\r\n\t)\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\r\n  return {\r\n\t\tusers: state.users,\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Canvas)","import styled, {css} from \"styled-components\";\r\nexport const SideBar = styled.div `\r\n\twidth: 25%;\r\n\tpadding: 20px;\r\n\tfont-family: monospace;\r\n`\r\n\r\nexport const UserList = styled.ul`\r\n\r\n`\r\n\r\nexport const UserItem = styled.li `\r\n\tlist-style-type: none;\r\n\tpadding: 5px 10px;\r\n\tborder: 3px solid green;\r\n\tborder-radius: 3px;\r\n\tmargin: 5px;\r\n\twidth: fit-content;\r\n\tdisplay:flex;\r\n\tfont-size: 20px;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\t${props => \r\n\t\t!props.alive && css`\r\n\t\t\tborder: 3px solid red;\r\n\t\t\topacity: 0.5;\r\n \t\t`\r\n\t}\r\n\t${props => \r\n\t\tprops.isMe && css`\r\n\t\t\tborder: 3px solid #022a92;\r\n \t\t`\r\n\t}\r\n\t${props => \r\n\t\tprops.closest && css`\r\n\t\t\tbox-shadow: 0px 0px 5px 3px green;\r\n\t\t`\r\n\t}\r\n`\r\n\r\nexport const StartButton = styled.button `\r\n\t\r\n`\r\n\r\nexport const Circle = styled.div `\r\n\tbackground: ${props => props.backgroundColor};\r\n\tborder-radius: 50%;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tmargin-left: 3px;\r\n`","export default {\r\n\t'mafia': {\r\n\t\tstart: \"⚔️ It's time to kill someone!\",\r\n\t\tmid: \"Move to who you want to kill \",\r\n\t\tbutton: \"click here ⚔️ \"\r\n\t},\r\n\t'doctor': {\r\n\t\tstart: \"🚑 It's time to save someone! \",\r\n\t\tmid: \"Move to who you want to save\",\r\n\t\tbutton: \"click here 🚑\"\r\n\t},\r\n\t'detective': {\r\n\t\tstart: \"🔍 It's time to (hopefully) catch a killer\",\r\n\t\tmid: \"Move to who you want to find out\",\r\n\t\tbutton: \"click here 🔍 \"\r\n\t},\r\n\t'lynch': {\r\n\t\tstart: \"🗡️ It's time to (hopefully) lynch a killer\",\r\n\t\tmid: \"Move to who you want to lynch\",\r\n\t\tbutton: \"click here 🗡️ \"\r\n\t},\r\n\r\n\r\n\r\n}","import React from 'react'\r\nimport * as Styled from './styles.js'\r\nimport { connect } from 'react-redux'\r\nimport template from './template'\r\nconst SideBar = ({users, currentUser, handleStartGame= () => {}, gameState, client}) => {\r\n\tconst me = currentUser.username\r\n\tconst handleKill = () => {\r\n\t\tswitch (currentUser.role.toLowerCase()) {\r\n\t\t\tcase 'mafia':\r\n\t\t\t\tclient.send(JSON.stringify({type: 'mafiaKill', toKill: currentUser.closestUser}))\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'detective':\r\n\t\t\t\tclient.send(JSON.stringify({type: 'detectiveCheck', toCheck: currentUser.closestUser }))\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'doctor':\r\n\t\t\t\tclient.send(JSON.stringify({type: 'doctorSave', toSave: currentUser.closestUser}))\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t}\r\n\t}\r\n\r\n\tconst handleLynch = () => {\r\n\t\tclient.send(JSON.stringify({type: 'villagerLynch', toLynch: currentUser.closestUser}))\r\n\r\n\t}\r\n\treturn ( \r\n\t\t<Styled.SideBar>\r\n\t\t\t{gameState.toLowerCase().includes(currentUser.role.substring(0,3))  && \r\n\t\t\tgameState.includes('CHOOSE') &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h5> {template[currentUser.role].start}\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t{template[currentUser.role].mid}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<p>When you're ready: <button onClick={handleKill}>{template[currentUser.role].button}</button></p>\r\n\t\t\t\t</> \r\n\t\t\t\t }\r\n\t\t\t\t {gameState.toLowerCase().includes(currentUser.role.substring(0,3))  && \r\n\t\t\t\t\tgameState.includes('RETURN') &&\r\n\t\t\t\t\t\t<h5> Hurry back to where you started so they don't notice you moved!</h5>\r\n\t\t\t\t }\r\n\r\n\t\t\t{gameState === 'G_S_DAY'  && \r\n\t\t\t\t<>\r\n\t\t\t\t\t<h5> {template['lynch'].start}\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t{template['lynch'].mid}\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t\t<p>When you're ready: <button onClick={handleLynch}>{template['lynch'].button}</button></p>\r\n\t\t\t\t</> \r\n\t\t\t\t }\r\n\t\t\t<h5>These are the people currently in your village: </h5>\r\n\t\t\t<Styled.UserList>\r\n\t\t\t\t{users.map((user) => {\r\n\t\t\t\t\tconst isMe = me && user.username === me\r\n\t\t\t\t\tconst isAlive = user.status === 'alive'\r\n\t\t\t\t\tconst closest = user.userId === currentUser.closestUser\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<Styled.UserItem key={user.username} alive={isAlive} isMe={isMe} closest={closest}>\r\n\t\t\t\t\t\t {!isAlive && `💀`}{user.username}{!isAlive && `💀`}<Styled.Circle backgroundColor={user.color}/> </Styled.UserItem>\r\n\t\t\t\t\t\t )\r\n\t\t\t\t})}\r\n\r\n\r\n\t\t\t\t{gameState === 'G_S_PREGAME' \r\n\t\t\t\t&& users.length > 3 &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\tEveryone here? \r\n\t\t\t\t\t<Styled.StartButton onClick={handleStartGame}>\r\n\t\t\t\t\t\tStart Game\r\n\t\t\t\t\t</Styled.StartButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</Styled.UserList>\r\n\t\t</Styled.SideBar>\r\n\t)\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n\t\tusers: state.users,\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n\t};\r\n};\r\nexport default connect(mapStateToProps)(SideBar)\r\n","import styled from \"styled-components\";\r\nimport img from './canvas.jpeg';\r\n\r\nexport const Wrapper = styled.div`\r\n\tdisplay: flex;\r\n`\r\nexport const NightContainer = styled.div ` \r\n\twidth: 75%;\r\n`\r\nexport const Night = styled.div `\r\n\twidth: 100%;\r\n\theight: 110vh;\r\n\tbackground: no-repeat url(${img}) 0 0;\r\n\tbackground-size: contain;\r\n`\r\n\r\n","import React from 'react'\r\nimport Canvas from '../Canvas/Canvas'\r\nimport SideBar from '../SideBar/SideBar'\r\nimport * as Styled from './styles.js'\r\n\r\nconst Game = ({ client, shouldBeVisible}) => {\t\r\n\tconst handleStartGame = () => {\r\n\t\tconsole.log('Starting Game');\r\n\t\tclient.send(JSON.stringify({\"type\": \"gameStart\"}))\r\n\t}\r\n\treturn ( \r\n\t\t<Styled.Wrapper>\r\n\t\t\t{ shouldBeVisible\r\n\t\t\t? <Canvas client={client} />\r\n\t\t\t: <Styled.NightContainer>\r\n\t\t\t\t\t<Styled.Night />\r\n\t\t\t\t</Styled.NightContainer>\r\n\r\n}\r\n\t\t\t<SideBar client={client} handleStartGame={handleStartGame} /> \r\n\t\t</Styled.Wrapper>\r\n\t)\r\n\r\n}\r\n\r\nexport default Game","import styled from \"styled-components\";\r\n\r\nexport const ModalWrapper = styled.div`\r\n\tdisplay: ${props => props.show ? 'block' : 'none'}; /* Hidden by default */\r\n\tposition: fixed; /* Stay in place */\r\n\tz-index: 1; /* Sit on top */\r\n\tpadding-top: 100px; /* Location of the box */\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100%; \r\n\theight: 100%; \r\n\tbackground-color: rgb(0,0,0); \r\n\tbackground-color: rgba(0,0,0,0.4); \r\n`\r\n\r\nexport const ModalContent = styled.div`\r\n\tbackground-color: white;\r\n\tmargin: auto;\r\n\tpadding: 20px;\r\n\tborder: 1px solid #888;\r\n\twidth: 80%;\r\n\ttext-align: center;\r\n`","import React from 'react'\r\nimport * as Styled from './styles.js'\r\n\r\nexport const Modal = ({show, message}) => {\r\n\treturn (\r\n\t\t<Styled.ModalWrapper show={show} >\r\n\t\t\t<Styled.ModalContent>\r\n\t\t\t\t{message}\r\n\t\t\t</Styled.ModalContent>\r\n\t\t</Styled.ModalWrapper>\r\n\t)\r\n}","import React, { Component } from 'react'\r\nimport { w3cwebsocket as W3CWebSocket} from 'websocket'\r\nimport { connect } from 'react-redux';\r\nimport Login from './Login/Login'\r\nimport Header from './Header/Header'\r\nimport Game from './Game/Game'\r\n\r\nimport 'medium-editor/dist/css/medium-editor.css';\r\nimport 'medium-editor/dist/css/themes/default.css';\r\nimport './App.css';\r\nimport { Modal } from './Modal/Modal';\r\n\r\nconst client  = new W3CWebSocket('ws://127.0.0.1:8080')\r\nconst contentDefaultMessage = \"Start writing your document here\"\r\n\r\nclass App extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n\t\t\t\t\t\tusername: null,\r\n\t\t\t\t\t\tmessage: '',\r\n\t\t\t\t\t\tshowModal: false\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.logInUser = this.logInUser.bind(this)\r\n\r\n\t\t}\r\n\t\t\r\n    logInUser = (username) => {\r\n\t\t\t\tthis.setState({username: username})\r\n        if (username.trim()) {\r\n          const data = { username }\r\n\t\t\t\t  client.send(JSON.stringify({...data, type: 'userJoined'}))\r\n        }\r\n\t\t}\r\n\t\t\r\n\t\ttriggerNightTime= () => {\r\n\t\t\tclient.send(JSON.stringify({\r\n\t\t\t\ttype: 'nightAll'\r\n\t\t}))\r\n\t\t}\r\n\r\n    onEditorStateChange = (text) => {\r\n        client.send(JSON.stringify({\r\n            type: 'contentchange',\r\n            username: this.state.username,\r\n            content: text\r\n        }))\r\n\t\t}\r\n\r\n\t\ttriggerShowDetectiveModal= (result) => {\r\n\t\t\tif (this.props.currentUser.role !== 'detective') return\r\n\t\t\tconst message = `They are ${!result ? 'not ' : ''}a member of the Mafia.`\r\n\t\t\tthis.setState({message: message, showModal: true})\r\n\t\t\t\r\n\t\t\tsetTimeout(()=> this.setState({message: null, showModal: false}), 3000)\r\n\r\n\t\t}\r\n\r\n\t\tshowMurderModal = (type, victim = '') => {\r\n\t\t\tlet message\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'villagerKilled' :\r\n\t\t\t\t\tmessage = `😱 A villager just died! They went by the name of ${victim.username}, may they Rest in Peace.`\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'mafiaKilled':\r\n\t\t\t\t\tmessage = `You chose to kill ${victim.username}. Well done, they were a member of the Mafia! ⚔️ `\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'noneKilled':\r\n\t\t\t\t\tmessage = 'Amen! No one died.'\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.setState({message: message, showModal: true})\r\n\t\t\t\r\n\t\t\tsetTimeout(()=> this.setState({message: null, showModal: false}), 4000)\r\n\r\n\t\t}\r\n\r\n    componentWillMount() {\r\n        client.onopen = () => {\r\n            console.log(\"WebSocket Client Connected\")\r\n        }\r\n\r\n        client.onmessage = (message) => {\r\n\t\t\t\t\tconsole.log(message.data);\r\n\t\t\t\t\t\r\n            const dataFromServer = JSON.parse(message.data)\r\n            const stateToChange = {}\r\n\r\n            if (dataFromServer.type && dataFromServer.users){\r\n\t\t\t\t\t\t\tstateToChange.users = dataFromServer.users\r\n\t\t\t\t\t\t\tstateToChange.currentUser = dataFromServer.currentUser\r\n\t\t\t\t\t\t\tstateToChange.gameState = dataFromServer.gameState\r\n\t\t\t\t\t\t\tthis.props.handleUserJoined(stateToChange)\r\n\t\t\t\t\t\t\tthis.setState({ ...stateToChange })\r\n\t\t\t\t\t\t} else if (dataFromServer.type === 'detectiveCheck') {\r\n\t\t\t\t\t\t\t\tthis.triggerShowDetectiveModal(dataFromServer.result)\r\n\t\t\t\t\t\t} else if (dataFromServer.type.toLowerCase().includes('killed')) {\r\n\t\t\t\t\t\t\tthis.showMurderModal(dataFromServer.type, dataFromServer.victim || '')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(message.type === \"contentchange\") {\r\n\t\t\t\t\t\t\tstateToChange.text = dataFromServer.data.editorContent || contentDefaultMessage\r\n\t\t\t\t\t\t} \r\n         }\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {currentUser, gameState} = this.props\r\n\t\t\tconst shouldBeVisible = currentUser.username && (!gameState.includes('G_S_N') ||\r\n\t\t\tgameState.toLowerCase().includes(currentUser.role.substring(0,3)))\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Header triggerNightTime={this.triggerNightTime} />\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t{currentUser.username \r\n\t\t\t\t\t\t? <Game shouldBeVisible={shouldBeVisible} client={client} /> \r\n\t\t\t\t\t\t: <Login logInUser={this.logInUser} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Modal show={this.state.showModal} message={this.state.message} />\r\n\t\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\nconst mapDispatchToProps  = dispatch => {\r\n\treturn {\r\n\t\thandleUserJoined: (payload) => dispatch({ type: 'JOINED', payload }),\r\n\t\thandleUsersChanged: (payload) => dispatch({ type: 'USERS_CHANGED', payload })\r\n\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tcurrentUser: state.currentUser,\r\n\t\tgameState: state.gameState\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {store} from './redux/store'\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nconst RenderApp = () => (\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n);\r\n\r\n\r\nReactDOM.render(<RenderApp />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();"],"sourceRoot":""}